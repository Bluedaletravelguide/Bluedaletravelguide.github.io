!function(t){"use strict";function e(){return"undefined"!=typeof google&&void 0!==google.maps}function o(n,e,o,t){n.fitBounds(e),o.hasOwnProperty("lat")&&o.hasOwnProperty("lng")&&n.addListener("bounds_changed",function(){n.setCenter(o)}),t&&n.addListener("bounds_changed",function(){s||(n.setZoom(t),s=!0)})}function i(n,e){var r=new google.maps.Map(n,{mapTypeId:function(n){var e,o=google.maps.MapTypeId;if(o.hasOwnProperty(n))return o[n];for(e in o)if(o[e]===n)return n;return o.ROADMAP}(e.type)}),a=new google.maps.LatLngBounds;t.each(e.points,function(n,e){var o,t,i;return!(!e.hasOwnProperty("lat")||!e.hasOwnProperty("lng"))&&(o=new google.maps.LatLng({lat:e.lat,lng:e.lng}),e.marker&&(t=new google.maps.Marker({map:r,position:o}),"string"==typeof e.marker&&t.setIcon(e.marker),e.title&&t.setTitle(e.title),e.infoWindow&&(i=new google.maps.InfoWindow({content:e.infoWindow}),t.addListener("click",function(){i.open(r,t)}))),void a.extend(o))}),o(r,a,e.center,e.zoom),e.responsive&&t(window).on("resizeDone",function(){s=!1,o(r,a,e.center,e.zoom)}),e.callback&&e.callback(r,a,e)}function r(n,o){!function(n,e,o,t){if(n())return e();o=o||100,t=t||!1;var i=setInterval(function(){n()&&(e(),clearInterval(i))},o);t&&setTimeout(function(){clearInterval(i)},t)}(e,function(){n.each(function(n,e){i(e,o)})},50,4e3)}var n=!1,s=!1,a=!1;t.fn.mapify=function(n){var e=this,o=t.extend({points:[],type:"roadmap",center:!1,zoom:!1,responsive:!1,callback:!1},n);a?r(e,o):(a=!0,t.getScript("https://maps.google.com/maps/api/js?language=en",function(){r(e,o)}))},t(window).on("resize",function(){clearTimeout(n),n=setTimeout(function(){t(window).trigger("resizeDone")},100)})}(jQuery);